# QDPI‑256 Glyphs & Manifest

This directory contains the **256‑symbol SVG glyph set** for the QDPI pipeline,
along with a JSON manifest and helper scripts.

## Directory Layout

```
public/qdpi-256-glyphs/      # 256 SVG files named <char>_<orientation>_<rotation>.svg
public/qdpi/qdpi_glyph_manifest.json  # Descriptor for all glyphs
public/qdpi/manifest.d.ts    # (optional) TypeScript export of the manifest
public/qdpi/manifest.index.json # (optional) List of SVG filenames
```

## Naming Convention

`<char_slug>_<orientation>_<rotation>.svg`
- **char_slug**: one of the 16 character IDs (e.g. `princhetta`, `arieol-owlist`)
- **orientation**: `X` (Read), `Y` (Index), `A` (Ask), `Z` (Receive)
- **rotation**: `0`, `90`, `180`, `270`

Example: `princhetta_A_90.svg`

## Manifest Schema (`qdpi_glyph_manifest.json`)

| Field        | Type     | Description                             |
|--------------|----------|-----------------------------------------|
| glyph_id     | number   | 0–255 interactive ID                    |
| char_hex     | number   | 0–15 left nibble (character index)      |
| char_slug    | string   | character slug (see naming convention)  |
| orientation  | string   | one of X, Y, A, Z                       |
| rotation_deg | number   | rotation in degrees: 0, 90, 180, 270    |
| symbol_code  | number?  | placeholder for future type code        |
| behavior     | string?  | placeholder for future provenance tag   |
| hex          | string   | 2‑digit uppercase hex of glyph_id       |
| filename     | string   | SVG filename (<char>_<o>_<r>.svg)       |
| color        | string?  | optional per‑character color from palette|
| label        | string   | human‑readable label                    |
| tags         | string[] | quick filters: ["character", orientation, "rot-<deg>"] |

## Helper Scripts (scripts/qdpi)

- `build_glyph_manifest.py`
  Scans `public/qdpi-256-glyphs/`, builds the JSON manifest.
- `validate_glyph_manifest.py`
  Checks for 256 unique entries, correct grouping, and file presence.
- `generate_glyphs.py`
  Duplicates and rotates base glyph files from `public/corpus-symbols/` into the QDPI folder.
- `export_ts_constants.py`
  (Optional) Emits `manifest.d.ts` and `manifest.index.json` for TS/JS import.

## Usage

```bash
# 1. Generate SVGs if needed
python3 scripts/qdpi/generate_glyphs.py

# 2. Build manifest
python3 scripts/qdpi/build_glyph_manifest.py

# 3. Validate
python3 scripts/qdpi/validate_glyph_manifest.py

# 4. Optional TS export
python3 scripts/qdpi/export_ts_constants.py
```

## Consumption

- **Backend (Claude Code)**: Read `qdpi_glyph_manifest.json` to implement symbol encode/decode.
- **Frontend (Gemini CLI)**: Import the manifest (or TS module) and render all 256 glyphs in the symbol picker or grid.

---
*Generated by Codex CLI for QDPI‑256 integration*